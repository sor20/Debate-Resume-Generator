<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“‹ å±¥å†ä¿®æ”¹å™¨</title>
    <style>
        * {
            color: #ffffff;
            background-color: transparent;
            font-family: 'Microsoft YaHei', 'å¾®è½¯é›…é»‘', sans-serif;
        }
        
        body {
            background-color: #282830;
            margin: 0;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        /* ä¸»å¸ƒå±€ - å·¦å³åˆ†æ  */
        .main-layout {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }
        
        /* å·¦æ ï¼šæ§åˆ¶é¢æ¿ */
        .left-panel {
            flex: 1;
            min-width: 300px;
            max-width: 400px;
        }
        
        /* å³æ ï¼šè¾“å‡ºå’Œç»Ÿè®¡ */
        .right-panel {
            flex: 2;
            min-width: 500px;
        }
        
        h1 {
            text-align: center;
            color: #ffffff;
            margin-bottom: 30px;
        }
        
        .resume-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .category-group {
            background-color: #282830;
            border: 2px solid #555;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .category-group h2 {
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 16px;
            font-weight: bold;
            color: #4CAF50;
        }
        
        .buttons-layout {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        button {
            padding: 8px 12px;
            border-radius: 6px;
            font-weight: bold;
            border: 2px solid;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
        }
        
        button:hover {
            opacity: 0.9;
            transform: translateY(-1px);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        button:active {
            opacity: 0.8;
            transform: translateY(0);
            box-shadow: none;
        }
        
        .btn-primary {
            background-color: #00ff00;
            color: #000000;
            border-color: #00ff00;
        }
        
        .btn-reset {
            background-color: #ff0000;
            color: #ffffff;
            border-color: #ff0000;
            width: 100%;
            text-align: center;
        }
        
        .global-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0;
            padding: 15px;
            border: 2px solid #555;
            border-radius: 8px;
        }
        
        .stats-display {
            padding: 15px;
            border: 2px solid #555;
            border-radius: 8px;
            font-size: 13px;
            font-weight: bold;
            background-color: #282830;
        }
        
        .stats-display div {
            margin-bottom: 8px;
            line-height: 1.4;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 900px) {
            .main-layout {
                flex-direction: column;
            }
            
            .left-panel,
            .right-panel {
                max-width: 100%;
                min-width: auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“‹ å±¥å†ä¿®æ”¹å™¨</h1>
        
        <div class="main-layout">
            <!-- å·¦æ ï¼šå±¥å†ç”Ÿæˆæ§åˆ¶é¢æ¿ -->
            <div class="left-panel">
                <div class="resume-container">
                    <!-- å›½é™…èµ›åˆ†ç±» -->
                    <div class="category-group">
                        <h2>å›½é™…èµ›</h2>
                        <div class="buttons-layout">
                            <button class="btn-primary" onclick="addNormalResume('å›½é™…èµ›')">æ™®é€šå±¥å† +1</button>
                            <button class="btn-primary" onclick="addExcellentResume('å›½é™…èµ›')">ä½³è¾©å±¥å† +1</button>
                            <button class="btn-primary" onclick="addFullResume('å›½é™…èµ›')">å…¨ç¨‹å±¥å† +1</button>
                        </div>
                    </div>
                    
                    <!-- æ— é™åˆ¶çº§åˆ†ç±» -->
                    <div class="category-group">
                        <h2>æ— é™åˆ¶çº§</h2>
                        <div class="buttons-layout">
                            <button class="btn-primary" onclick="addNormalResume('æ— é™åˆ¶çº§')">æ™®é€šå±¥å† +1</button>
                            <button class="btn-primary" onclick="addExcellentResume('æ— é™åˆ¶çº§')">ä½³è¾©å±¥å† +1</button>
                            <button class="btn-primary" onclick="addFullResume('æ— é™åˆ¶çº§')">å…¨ç¨‹å±¥å† +1</button>
                        </div>
                    </div>
                    
                    <!-- é™åˆ¶çº§åˆ†ç±» -->
                    <div class="category-group">
                        <h2>é™åˆ¶çº§</h2>
                        <div class="buttons-layout">
                            <button class="btn-primary" onclick="addNormalResume('é™åˆ¶çº§')">æ™®é€šå±¥å† +1</button>
                            <button class="btn-primary" onclick="addExcellentResume('é™åˆ¶çº§')">ä½³è¾©å±¥å† +1</button>
                            <button class="btn-primary" onclick="addFullResume('é™åˆ¶çº§')">å…¨ç¨‹å±¥å† +1</button>
                        </div>
                    </div>
                </div>
                
                <!-- å…¨å±€æ§åˆ¶ -->
                <div class="global-controls">
                    <button class="btn-reset" onclick="clearAllResume()">æ¸…ç©ºæ‰€æœ‰å±¥å†</button>
                </div>
                
                <!-- ç»Ÿè®¡æ˜¾ç¤º -->
                <div class="stats-display" id="statsDisplay">
                    <div>å½“å‰å±¥å†ï¼š0+0+0</div>
                    <div></div>
                    <div>åˆ†ç±»ç»Ÿè®¡ï¼š</div>
                    <div>å›½é™…èµ›ï¼šæ™®é€š0 / ä½³è¾©0 / å…¨ç¨‹0</div>
                    <div>æ— é™åˆ¶çº§ï¼šæ™®é€š0 / ä½³è¾©0 / å…¨ç¨‹0</div>
                    <div>é™åˆ¶çº§ï¼šæ™®é€š0 / ä½³è¾©0 / å…¨ç¨‹0</div>
                </div>
            </div>
            
            <!-- å³æ ï¼šå±¥å†è¾“å‡º -->
            <div class="right-panel">
                <!-- å±¥å†ç”Ÿæˆè¾“å‡ºæ¡† -->
                <div class="resume-generator">
                    <h2>å±¥å†ç”Ÿæˆ</h2>
                    <div class="output-container">
                        <div class="output-section">
                            <h3>ç”Ÿæˆçš„å±¥å†</h3>
                            <textarea id="resumeOutput" readonly placeholder="ç”Ÿæˆçš„å±¥å†å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ..."></textarea>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <style>
        .resume-generator {
            margin-bottom: 20px;
            padding: 15px;
            border: 2px solid #4CAF50;
            border-radius: 8px;
            background-color: rgba(76, 175, 80, 0.1);
        }
        
        .resume-generator h2 {
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 16px;
            font-weight: bold;
            color: #4CAF50;
        }
        
        .generator-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .output-container {
            margin-top: 10px;
        }
        
        .output-section {
            width: 100%;
        }
        
        .output-section h3 {
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 14px;
            font-weight: bold;
            color: #4CAF50;
        }
        
        #resumeOutput {
            width: 100%;
            min-height: 300px;
            padding: 12px;
            border: 2px solid #555;
            border-radius: 6px;
            background-color: #333;
            color: #fff;
            font-family: 'Microsoft YaHei', 'å¾®è½¯é›…é»‘', sans-serif;
            font-size: 13px;
            resize: vertical;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
            line-height: 1.4;
        }
    </style>
    
    <script>
        // å±¥å†æ•°æ®
        let resumeData = {
            'å›½é™…èµ›': {'a': 0, 'b': 0, 'c': 0},
            'æ— é™åˆ¶çº§': {'a': 0, 'b': 0, 'c': 0},
            'é™åˆ¶çº§': {'a': 0, 'b': 0, 'c': 0}
        };
        
        // å¢åŠ æ™®é€šå±¥å†
        function addNormalResume(category) {
            if (resumeData[category]) {
                resumeData[category]['a'] += 1;
                updateResumeStats();
                generateResume(category, 'a'); // ç”Ÿæˆæ™®é€šå±¥å†
            }
        }
        
        // å¢åŠ ä½³è¾©å±¥å†
        function addExcellentResume(category) {
            if (resumeData[category]) {
                resumeData[category]['a'] += 1;
                resumeData[category]['b'] += 1;
                updateResumeStats();
                generateResume(category, 'b'); // ç”Ÿæˆä½³è¾©å±¥å†
            }
        }
        
        // å¢åŠ å…¨ç¨‹å±¥å†
        function addFullResume(category) {
            if (resumeData[category]) {
                resumeData[category]['a'] += 1;
                resumeData[category]['b'] += 1;
                resumeData[category]['c'] += 1;
                updateResumeStats();
                generateResume(category, 'c'); // ç”Ÿæˆå…¨ç¨‹å±¥å†
            }
        }
        
        // æ¸…ç©ºæ‰€æœ‰å±¥å†
        function clearAllResume() {
            for (let category in resumeData) {
                resumeData[category] = {'a': 0, 'b': 0, 'c': 0};
            }
            generatedResumes = {
                'æ— é™åˆ¶çº§': [],
                'é™åˆ¶çº§': [],
                'å›½é™…èµ›': []
            };
            mode2UsedYears = {};
            newFruitUsedTypes = []; // æ¸…ç©ºæ–°æœè¾©å·²ä½¿ç”¨ç±»å‹è®°å½•
            updateResumeStats();
            updateOutput();
        }
        
        // æ›´æ–°å±¥å†ç»Ÿè®¡æ˜¾ç¤º
        function updateResumeStats() {
            let totalA = 0;
            let totalB = 0;
            let totalC = 0;
            
            for (let category in resumeData) {
                totalA += resumeData[category]['a'];
                totalB += resumeData[category]['b'];
                totalC += resumeData[category]['c'];
            }
            
            let statsText = `
                <div>å½“å‰å±¥å†ï¼š${totalA}+${totalB}+${totalC}</div>
                <div></div>
                <div>åˆ†ç±»ç»Ÿè®¡ï¼š</div>
            `;
            
            for (let category in resumeData) {
                let a = resumeData[category]['a'];
                let b = resumeData[category]['b'];
                let c = resumeData[category]['c'];
                statsText += `<div>${category}ï¼šæ™®é€š${a} / ä½³è¾©${b} / å…¨ç¨‹${c}</div>`;
            }
            
            document.getElementById('statsDisplay').innerHTML = statsText;
        }
        
        // å±¥å†ç”ŸæˆåŠŸèƒ½
        
        // ä»åå­—.mdæ–‡ä»¶è§£æçš„åå­—åˆ—è¡¨
        const nameList = ['ç¿°å¢¨', 'ä¸¹é’', 'å¼¦æ­Œ', 'æ¸…æ™', 'è§‚æ¾œ', 'æ¼±ç‰', 'æ•ä¹¦', 'å¬æ¾', 'ä¸´å¸–', 'è£äº‘', 'é…Œæœˆ', 'åŸé£', 'ç ºè¡Œ', 'ç¬ƒå¿—', 'é¸¿æ¸', 'å¥‹æ¥«', 'éª‹æ€€', 'æ‹“è’', 'é¼æ–°', 'ç«å¸†', 'æ‰¬èˆ²', 'æŒ¯ç¿®', 'é”è¿›', 'ç²¾è¿›', 'æ ¼ç‰©', 'è‡´çŸ¥', 'å¯æ™º', 'æ¢å¾®', 'æ‹“æ–°', 'æ¾„å¿ƒ', 'è§‚é“', 'ç§‰çƒ›', 'ç»æ˜Ÿ', 'æ’·è‹±', 'èŸè', 'é›†èƒ', 'è—é”‹', 'æ½æ˜Ÿæ²³', 'ä¹¦åç« ', 'å’è€Œå½’', 'æ•æ˜Ÿæ²³', 'å¬ç«¹è¯­', 'è¸æ­Œè¡Œ', 'æ­¥é’äº‘', 'é‡‡ç§‹å®', 'æ’·æ˜¥å', 'æ¼±æ¸…æµ', 'ç ´é•¿é£', 'å‡»é•¿ç©º', 'å‡Œç»é¡¶', 'ç«é£æµ', 'æ‹“æ–°ç¨‹', 'å±•å®å›¾', 'æä»Šæœ', 'æ”€é«˜å³°', 'ç«‹æ½®å¤´', 'é€å¤©å…‰', 'å¯é¸¿è’™', 'æ¢éªŠç ', 'ç´¢çœŸä¹‰', 'èæ–‡ç†', 'æ±‡ç¾¤è‹±', 'é›†ä¼—æ™º', 'å¯æ–°ç« ', 'ç»­è–ªç«', 'è‚²è‹±æ‰', 'åŸ¹æ–°ç§€', 'å¯ç«¥è’™', 'æ€€ç‘¾æ¡ç‘œ', 'å…°èŠ·ä¹‹å®¤', 'èŠå…°ç‰æ ‘', 'é«˜å±±æµæ°´', 'é˜³æ˜¥ç™½é›ª', 'æ›²æ°´æµè§', 'èŒ‚æ—ä¿®ç«¹', 'æƒ é£å’Œç•…', 'å¤©æœ—æ°”æ¸…', 'é¸¢é£é±¼è·ƒ', 'æ¾é£æ°´æœˆ', 'å†°å£¶ç§‹æœˆ', 'å…‰é£éœæœˆ', 'ä¹˜é£ç ´æµª', 'æŠ«è†æ–©æ£˜', 'ç¬ƒè¡Œè‡´è¿œ', 'çŸ¥è¡Œåˆä¸€', 'è‡ªå¼ºä¸æ¯', 'åšå¾·è½½ç‰©', 'å‘æ„¤å›¾å¼º', 'é”²è€Œä¸èˆ', 'é‡‘çŸ³å¯é•‚', 'å‹‡æ”€é«˜å³°', 'ä¸€å¾€æ— å‰', 'é¹ç¨‹ä¸‡é‡Œ', 'å¿—å­˜é«˜è¿œ', 'æ ¼ç‰©è‡´çŸ¥', 'ç©·ç†å°½æ€§', 'æ¢èµœç´¢éš', 'è–ªç«ç›¸ä¼ ', 'ç»§å¾€å¼€æ¥', 'æ¨é™ˆå‡ºæ–°', 'å¼€æ‹“åˆ›æ–°', 'é”æ„è¿›å–', 'ç²¾ç›Šæ±‚ç²¾', 'æ±‚çœŸåŠ¡å®', 'èä¼šè´¯é€š', 'é›†æ€å¹¿ç›Š', 'åšç§¯è–„å‘', 'ç¾¤è‹±èŸèƒ', 'äººæ‰æµæµ', 'æµæµä¸€å ‚', 'ç™¾èŠ±é½æ”¾', 'ç™¾å®¶äº‰é¸£', 'ä¸‡ç´«åƒçº¢', 'é£åæ­£èŒ‚', 'æŒ¥æ–¥æ–¹é’', 'æ¿€æ‰¬æ–‡å­—', 'æŒ¥æ¯«æ³¼å¢¨', 'ç¬”èµ°é¾™è›‡'];
        
        // ä¸­æ–‡æ•°å­—è½¬æ¢è¡¨
        const chineseNumbers = ['é›¶', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­', 'ä¸ƒ', 'å…«', 'ä¹'];
        
        // å°†æ•°å­—è½¬æ¢ä¸ºä¸­æ–‡æ•°å­—
        function toChineseNumber(num) {
            if (num >= 1 && num <= 9) {
                return chineseNumbers[num];
            }
            return num.toString();
        }
        
        // å·²ä½¿ç”¨çš„åå­—è®°å½•
        let usedNames = {};
        // ç”Ÿæˆçš„å±¥å†è®°å½•ï¼ŒæŒ‰åˆ†ç±»å­˜å‚¨
        let generatedResumes = {
            'æ— é™åˆ¶çº§': [],
            'é™åˆ¶çº§': [],
            'å›½é™…èµ›': []
        };
        
        // å›½é™…èµ›æ¨¡å¼2å·²ä½¿ç”¨å¹´ä»½è®°å½•
        let mode2UsedYears = {};
        
        // æ–°æœè¾©å·²ä½¿ç”¨çš„å¡èµ›ç±»å‹è®°å½•
        let newFruitUsedTypes = [];
        const newFruitTypes = ['é»‘å¡èµ›', 'é‡‘å¡èµ›', 'é“¶å¡èµ›', 'é“œå¡èµ›', 'é“å¡èµ›'];
        
        // å›½é™…èµ›æ•°æ®æ± 
        const internationalCities = ['åŒ—äº¬', 'ä¸Šæµ·', 'å¹¿å·', 'æ·±åœ³', 'æ­å·', 'æˆéƒ½', 'é‡åº†', 'å—äº¬', 'æ­¦æ±‰', 'è¥¿å®‰', 'å¤©æ´¥', 'è‹å·', 'é•¿æ²™', 'éƒ‘å·', 'é’å²›', 'å¦é—¨', 'å®æ³¢', 'åˆè‚¥', 'ç¦å·', 'æ˜†æ˜'];
        const internationalTournamentNames = ['é»„è¿', 'æ–°æœè¾©', 'ä¸–é”¦ç­›', 'åè¯­è¾©å›è€å‹ç­›', 'å…¨è¾©èµ›', 'æ³•è¾©èµ›', 'æ˜Ÿè¾©ç­›', 'ä¸´æ½®è¾©', 'æ­é˜–è¾©', 'åè¾©èµ›'];
        const internationalRanks = ['å† å†›', 'äºšå†›', 'å­£å†›'];
        const internationalRankWeights = [0.4, 0.3, 0.3]; // å† å†›40%, äºšå†›30%, å­£å†›30%
        const internationalHonors = ['å…¨ç¨‹æœ€ä½³è¾©æ‰‹', 'æœ€ä½³è¾©æ‰‹', ''];
        const internationalHonorWeights = [0.3, 0.2, 0.5]; // å…¨ç¨‹æœ€ä½³30%, æœ€ä½³20%, æ— 50%
        
        // ç”Ÿæˆå¹´ä»½ï¼šå½“å‰å¹´ä»½å‡å»0-3çš„éšæœºæ•°ï¼Œæƒé‡è¶Šé«˜ç”Ÿæˆè¶Šå°çš„åç§»å€¼
        function generateYear() {
            const currentYear = new Date().getFullYear();
            // æƒé‡ï¼š0 > 1 > 2 > 3
            const weightedOffsets = [0, 0, 0, 0, 1, 1, 1, 2, 2, 3];
            const randomIndex = Math.floor(Math.random() * weightedOffsets.length);
            const randomOffset = weightedOffsets[randomIndex];
            return currentYear - randomOffset;
        }
        
        // ç”Ÿæˆå±Šæ•°ï¼šå¸¦æƒé‡çš„1-9éšæœºæ•°
        function generateSession() {
            // æƒé‡ï¼šæ•°å­—è¶Šå°æƒé‡è¶Šé«˜
            const weightedNumbers = [1, 1, 1, 1, 2, 2, 2, 3, 3, 4, 4, 5, 5, 6, 7, 8, 9];
            const randomIndex = Math.floor(Math.random() * weightedNumbers.length);
            return weightedNumbers[randomIndex];
        }
        
        // ç”Ÿæˆæ¯èµ›åç§°ï¼šä»åå­—åˆ—è¡¨ä¸­éšæœºé€‰æ‹©ï¼Œé¿å…é‡å¤
        function generateCupName() {
            // æ£€æŸ¥æ˜¯å¦æœ‰æœªä½¿ç”¨çš„åå­—
            const availableNames = nameList.filter(name => !usedNames[name]);
            
            let name, session;
            
            if (availableNames.length > 0) {
                // é€‰æ‹©æœªä½¿ç”¨çš„åå­—
                const randomIndex = Math.floor(Math.random() * availableNames.length);
                name = availableNames[randomIndex];
                // æ ‡è®°ä¸ºå·²ä½¿ç”¨
                usedNames[name] = true;
                session = generateSession();
            } else {
                // æ‰€æœ‰åå­—éƒ½å·²ä½¿ç”¨ï¼Œå¢åŠ å±Šæ•°
                const randomIndex = Math.floor(Math.random() * nameList.length);
                name = nameList[randomIndex];
                // å¢åŠ å±Šæ•°
                const currentSession = usedNames[name] || 1;
                session = currentSession + 1;
                usedNames[name] = session;
            }
            
            return { name, session };
        }
        
        // ç”Ÿæˆé˜Ÿä¼æ•°é‡ï¼šå¸¦æƒé‡çš„8æˆ–12çš„å€æ•°
        function generateTeamCount() {
            // æƒé‡ï¼š8çš„å€æ•° > 12çš„å€æ•°ï¼›16å’Œ32 > å…¶ä»–8çš„å€æ•°ï¼ˆå¢åŠ 8xæƒé‡ï¼Œå‡å°‘12xæƒé‡ï¼‰
            const weightedNumbers = [8, 8, 8, 8, 16, 16, 16, 16, 16, 16, 32, 32, 32, 32, 32, 32, 24, 24, 40, 40, 48, 48, 12];
            const randomIndex = Math.floor(Math.random() * weightedNumbers.length);
            return weightedNumbers[randomIndex];
        }
        
        // ç”Ÿæˆæ¯”èµ›ç»“æœï¼šæ ¹æ®é˜Ÿä¼æ•°é‡
        function generateResult(teamCount) {
            const quarterFinal = Math.ceil(teamCount / 8); // å…«åˆ†ä¹‹ä¸€ä»¥ä¸Š
            
            // å¯èƒ½çš„ç»“æœåˆ—è¡¨ï¼Œæ ¹æ®é˜Ÿä¼æ•°é‡ç¡®å®š
            let possibleResults = [];
            
            if (quarterFinal <= 1) {
                possibleResults = ['å† å†›', 'äºšå†›'];
            } else if (quarterFinal <= 2) {
                possibleResults = ['å† å†›', 'äºšå†›', 'å­£å†›', `${quarterFinal}å¼º`];
            } else {
                possibleResults = ['å† å†›', 'äºšå†›', 'å­£å†›', `${quarterFinal}å¼º`];
            }
            
            // ç»“æœæƒé‡ï¼šå† å†› > äºšå†› > å­£å†› > xå¼º
            const weightedResults = [];
            possibleResults.forEach((result, index) => {
                const weight = possibleResults.length - index;
                for (let i = 0; i < weight; i++) {
                    weightedResults.push(result);
                }
            });
            
            const randomIndex = Math.floor(Math.random() * weightedResults.length);
            return weightedResults[randomIndex];
        }
        
        // ç”Ÿæˆç‰¹æ®Šè£èª‰ï¼šæ ¹æ®å±¥å†ç±»å‹
        function generateHonor(resumeType) {
            // æ ¹æ®æŒ‡å®šçš„å±¥å†ç±»å‹å†³å®šè£èª‰
            if (resumeType === 'c') {
                // å…¨ç¨‹å±¥å†ï¼Œé«˜æ¦‚ç‡ç”Ÿæˆå…¨ç¨‹æœ€ä½³è¾©æ‰‹
                const honorOptions = ['+å…¨ç¨‹æœ€ä½³è¾©æ‰‹', '+å…¨ç¨‹æœ€ä½³è¾©æ‰‹', '+å…¨ç¨‹æœ€ä½³è¾©æ‰‹', '+å…¨ç¨‹æœ€ä½³è¾©æ‰‹', ''];
                const randomIndex = Math.floor(Math.random() * honorOptions.length);
                return honorOptions[randomIndex];
            } else if (resumeType === 'b') {
                // ä½³è¾©å±¥å†ï¼Œä¸­ç­‰æ¦‚ç‡ç”Ÿæˆæœ€ä½³è¾©æ‰‹
                const honorOptions = ['+æœ€ä½³è¾©æ‰‹', '+æœ€ä½³è¾©æ‰‹', '+æœ€ä½³è¾©æ‰‹', ''];
                const randomIndex = Math.floor(Math.random() * honorOptions.length);
                return honorOptions[randomIndex];
            } else {
                // æ™®é€šå±¥å†ï¼ŒåŸºæœ¬ä¸ç”Ÿæˆè£èª‰
                return '';
            }
        }
        
        // è®¡ç®—æŸç±»å‹å±¥å†çš„æ€»æ•°
        function sumResumeType(type) {
            let total = 0;
            for (let category in resumeData) {
                total += resumeData[category][type];
            }
            return total;
        }
        
        // ç”Ÿæˆæ™®é€šå±¥å†ï¼ˆéå›½é™…èµ›ï¼‰
        function generateNormalResume(resumeType) {
            const year = generateYear();
            const { name: cupName, session } = generateCupName();
            const teamCount = generateTeamCount();
            const result = generateResult(teamCount);
            const honor = generateHonor(resumeType);
            
            // æ„å»ºç»“æœå­—ç¬¦ä¸²
            const resume = `${year}ç¬¬${toChineseNumber(session)}å±Š${cupName}æ¯(${teamCount}é˜Ÿ)${result}${honor}`;
            
            return { 
                text: resume,
                year: year,
                hasFull: honor.includes('å…¨ç¨‹'),
                hasExcellent: honor.includes('æœ€ä½³è¾©æ‰‹') && !honor.includes('å…¨ç¨‹'),
                rank: result,
                mode: 'normal'
            };
        }
        
        // ç”Ÿæˆå›½é™…èµ›å±¥å†
        function generateInternationalResume(resumeType) {
            const year = generateYear();
            const tournamentName = internationalTournamentNames[Math.floor(Math.random() * internationalTournamentNames.length)];
            
            // ç”Ÿæˆè£èª‰
            const honor = weightedRandom(internationalHonors, internationalHonorWeights);
            // ç”Ÿæˆåæ¬¡
            const rank = weightedRandom(internationalRanks, internationalRankWeights);
            
            let resumeText = '';
            let mode = 1; // é»˜è®¤ä¸ºæ¨¡å¼1
            
            // æ–°æœè¾©ç‰¹æ®Šå¤„ç†ï¼šä½¿ç”¨é»‘é‡‘é“¶é“œé“å¡èµ›ï¼Œæ¯ä¸ªåªèƒ½ç”Ÿæˆä¸€æ¬¡
            if (tournamentName === 'æ–°æœè¾©') {
                // è·å–æœªä½¿ç”¨çš„å¡èµ›ç±»å‹
                const availableTypes = newFruitTypes.filter(type => !newFruitUsedTypes.includes(type));
                
                if (availableTypes.length > 0) {
                    // éšæœºé€‰æ‹©ä¸€ä¸ªæœªä½¿ç”¨çš„å¡èµ›ç±»å‹
                    const selectedType = availableTypes[Math.floor(Math.random() * availableTypes.length)];
                    // è®°å½•ä¸ºå·²ä½¿ç”¨
                    newFruitUsedTypes.push(selectedType);
                    // ç”Ÿæˆå±¥å†æ–‡æœ¬
                    resumeText = `${year}å¹´æ–°æœè¾©${selectedType}${rank}`;
                } else {
                    // å¦‚æœæ‰€æœ‰ç±»å‹éƒ½å·²ä½¿ç”¨ï¼Œå›é€€åˆ°æ™®é€šæ¨¡å¼
                    resumeText = `${year}å¹´æ–°æœè¾©${rank}`;
                }
            } else {
                // å…¶ä»–å›½é™…èµ›æ­£å¸¸å¤„ç†
                // æ¨¡å¼é€‰æ‹©ï¼š70%æ¨¡å¼1ï¼Œ30%æ¨¡å¼2
                mode = Math.random() < 0.7 ? 1 : 2;
                
                // æ¨¡å¼2æ£€æŸ¥ï¼šå¦‚æœå¹´ä»½å·²ä½¿ç”¨ï¼Œåˆ‡æ¢åˆ°æ¨¡å¼1
                if (mode === 2 && mode2UsedYears[year]) {
                    mode = 1;
                }
                
                if (mode === 1) {
                    // æ¨¡å¼1ï¼šXXXXå¹´+XXåŸå¸‚èµ›åŒº+èµ›äº‹å+åæ¬¡+ä½³è¾©åç¼€
                    const city = internationalCities[Math.floor(Math.random() * internationalCities.length)];
                    resumeText = `${year}å¹´${city}èµ›åŒº${tournamentName}${rank}`;
                } else {
                    // æ¨¡å¼2ï¼šXXXXå¹´+èµ›äº‹å+æ­£èµ›+åæ¬¡+ä½³è¾©åç¼€
                    resumeText = `${year}å¹´${tournamentName}æ­£èµ›${rank}`;
                    // è®°å½•å·²ä½¿ç”¨çš„å¹´ä»½
                    mode2UsedYears[year] = true;
                }
            }
            
            // æ·»åŠ è£èª‰åç¼€
            if (honor) {
                resumeText += `+${honor}`;
            }
            
            return { 
                text: resumeText,
                year: year,
                hasFull: honor.includes('å…¨ç¨‹'),
                hasExcellent: honor === 'æœ€ä½³è¾©æ‰‹',
                rank: rank,
                mode: mode,
                honor: honor
            };
        }
        
        // åŠ æƒéšæœºé€‰æ‹©å‡½æ•°
        function weightedRandom(items, weights) {
            const totalWeight = weights.reduce((sum, weight) => sum + weight, 0);
            let random = Math.random() * totalWeight;
            
            for (let i = 0; i < items.length; i++) {
                random -= weights[i];
                if (random <= 0) {
                    return items[i];
                }
            }
            
            return items[items.length - 1];
        }
        
        // ç”Ÿæˆå±¥å†
        function generateResume(category, resumeType) {
            let newResume;
            
            if (category === 'å›½é™…èµ›') {
                newResume = generateInternationalResume(resumeType);
            } else {
                newResume = generateNormalResume(resumeType);
            }
            
            generatedResumes[category].push(newResume);
            
            // æŒ‰è¦æ±‚æ’åº
            sortResumes();
            
            // æ›´æ–°è¾“å‡º
            updateOutput();
        }
        
        // æ’åºç”Ÿæˆçš„å±¥å†
        function sortResumes() {
            // å¯¹æ¯ä¸ªåˆ†ç±»çš„å±¥å†è¿›è¡Œæ’åº
            for (let category in generatedResumes) {
                generatedResumes[category].sort((a, b) => {
                    // å›½é™…èµ›æ’åºè§„åˆ™ï¼šå¹´ä»½å‡åº â†’ "å…¨ç¨‹æœ€ä½³è¾©æ‰‹" â†’ "æœ€ä½³è¾©æ‰‹" â†’ åæ¬¡ä¼˜å…ˆçº§ â†’ å±Šæ•°å‡åº
                    if (category === 'å›½é™…èµ›') {
                        // å¹´ä»½é™åºï¼ˆè¶Šæ–°è¶Šé å‰ï¼‰
                        if (a.year !== b.year) {
                            return b.year - a.year;
                        }
                        
                        // "å…¨ç¨‹æœ€ä½³è¾©æ‰‹"ä¼˜å…ˆ
                        if (a.hasFull !== b.hasFull) {
                            return a.hasFull ? -1 : 1;
                        }
                        
                        // "æœ€ä½³è¾©æ‰‹"ä¼˜å…ˆ
                        if (a.hasExcellent !== b.hasExcellent) {
                            return a.hasExcellent ? -1 : 1;
                        }
                        
                        // åæ¬¡ä¼˜å…ˆçº§ï¼šå† å†› > äºšå†› > å­£å†›
                        const rankPriority = {'å† å†›': 0, 'äºšå†›': 1, 'å­£å†›': 2};
                        if (rankPriority[a.rank] !== rankPriority[b.rank]) {
                            return rankPriority[a.rank] - rankPriority[b.rank];
                        }
                        
                        return 0;
                    } else {
                        // éå›½é™…èµ›æ’åºè§„åˆ™ï¼šå¹´ä»½é™åº â†’ "å…¨ç¨‹" â†’ "ä½³è¾©"
                        // å¹´ä»½è¾ƒå¤§çš„ç»“æœæ’åœ¨å‰é¢
                        if (a.year !== b.year) {
                            return b.year - a.year;
                        }
                        
                        // åŒ…å«"å…¨ç¨‹"çš„ç»“æœæ’åœ¨å‰é¢
                        if (a.hasFull !== b.hasFull) {
                            return a.hasFull ? -1 : 1;
                        }
                        
                        // åŒ…å«"ä½³è¾©"çš„ç»“æœæ’åœ¨å‰é¢
                        if (a.hasExcellent !== b.hasExcellent) {
                            return a.hasExcellent ? -1 : 1;
                        }
                        
                        return 0;
                    }
                });
            }
        }
        
        // æ›´æ–°è¾“å‡ºæ–‡æœ¬æ¡†
        function updateOutput() {
            let allResumes = [];
            
            // æ·»åŠ å›½é™…èµ›å±¥å†ï¼ˆå¸¦æ ‡é¢˜ï¼‰
            if (generatedResumes['å›½é™…èµ›'].length > 0) {
                allResumes.push('å›½é™…èµ›ï¼š');
                generatedResumes['å›½é™…èµ›'].forEach(resume => {
                    allResumes.push(`  ${resume.text}`);
                });
                allResumes.push(''); // ç©ºè¡Œåˆ†éš”
            }
            
            // æ·»åŠ æ— é™åˆ¶çº§å±¥å†ï¼ˆå¸¦æ ‡é¢˜ï¼‰
            if (generatedResumes['æ— é™åˆ¶çº§'].length > 0) {
                allResumes.push('éé™åˆ¶çº§ï¼š');
                generatedResumes['æ— é™åˆ¶çº§'].forEach(resume => {
                    allResumes.push(`  ${resume.text}`);
                });
                allResumes.push(''); // ç©ºè¡Œåˆ†éš”
            }
            
            // æ·»åŠ é™åˆ¶çº§å±¥å†ï¼ˆå¸¦æ ‡é¢˜ï¼‰
            if (generatedResumes['é™åˆ¶çº§'].length > 0) {
                allResumes.push('é™åˆ¶çº§ï¼š');
                generatedResumes['é™åˆ¶çº§'].forEach(resume => {
                    allResumes.push(`  ${resume.text}`);
                });
            }
            
            // å°†æ‰€æœ‰å±¥å†åˆå¹¶ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²
            const outputText = allResumes.join('\n');
            
            document.getElementById('resumeOutput').value = outputText;
            
            // è°ƒæ•´æ–‡æœ¬æ¡†é«˜åº¦
            adjustTextareaHeight();
        }
        
        // æ¸…ç©ºç”Ÿæˆè®°å½•
        function clearGeneratedResumes() {
            generatedResumes = {
                'æ— é™åˆ¶çº§': [],
                'é™åˆ¶çº§': [],
                'å›½é™…èµ›': []
            };
            mode2UsedYears = {};
            newFruitUsedTypes = []; // æ¸…ç©ºæ–°æœè¾©å·²ä½¿ç”¨ç±»å‹è®°å½•
            updateOutput();
        }
        
        // è°ƒæ•´æ–‡æœ¬æ¡†é«˜åº¦ä»¥é€‚åº”å†…å®¹
        function adjustTextareaHeight() {
            const textarea = document.getElementById('resumeOutput');
            textarea.style.height = 'auto'; // é‡ç½®é«˜åº¦
            
            // è®¡ç®—åˆé€‚çš„é«˜åº¦ï¼Œè€ƒè™‘å†…å®¹å’Œæœ€å°é«˜åº¦
            const minHeight = 100; // æœ€å°é«˜åº¦
            const contentHeight = textarea.scrollHeight;
            const newHeight = Math.max(minHeight, contentHeight) + 20; // å¢åŠ ä¸€äº›é¢å¤–ç©ºé—´
            
            textarea.style.height = `${newHeight}px`;
        }
    </script>
</body>
</html>